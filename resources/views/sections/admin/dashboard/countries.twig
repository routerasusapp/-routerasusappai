<template x-if="datasets.country && datasets.country.length > 0">
  <section class="flex flex-col gap-6 box " data-density="comfortable">
    <div class="flex items-center justify-between gap-2">
      <h2>{{ p__('heading', 'Top countries') }}</h2>

      <span class="badge">
        {{ p__('button', 'Current month') }}
      </span>
    </div>

    <div>
      <div
        class="hidden md:grid grid-cols-12 gap-3 items-center px-3 py-2 text-content-dimmed text-xs group-data-[state=empty]/list:hidden">
        <div class="col-span-10">{{ p__('label', 'Country') }}</div>
        <div class="col-span-2 text-right">{{ p__('label', 'Signups') }}</div>
      </div>

      <ul class="text-sm flex flex-col gap-1 group-data-[state=empty]:hidden">
        <template x-for="stat in datasets.country">
          <li
            class="relative grid items-center grid-cols-12 gap-3 p-3 box hover:border-line"
            x-data>

            <div class="flex items-center col-span-10 gap-3">
              <template x-if="stat.category">
                <div class="avatar">
                  <span x-text="stat.category.alpha2"></span>

                  <img :src="stat.category.flag_url" :alt="stat.category.name">
                </div>
              </template>

              <template x-if="!stat.category">
                <div class="avatar">
                  <i class="ti ti-question-mark"></i>
                </div>
              </template>

              <div class="font-bold"
                x-text="stat.category ? stat.category.name : `{{ __('Unknown') }}`">
              </div>
            </div>

            <div class="col-span-2 text-right">
              <x-credit :data-value="stat.value"></x-credit>
            </div>
          </li>
        </template>
      </ul>
    </div>
  </section>
</template>