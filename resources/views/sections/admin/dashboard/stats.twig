<section class="flex flex-col gap-6 box" data-density="comfortable">
  <div class="flex items-center justify-between gap-2">
    <h2>{{ p__('heading', 'Overview') }}</h2>

    <span class="badge">
      {{ p__('button', 'Today') }}
    </span>
  </div>

  <div class="grid grid-cols-4 gap-1">
    <div class="flex flex-col items-center gap-4 box">
      <span class="avatar bg-content text-main">
        <i class="ti ti-decimal"></i>
      </span>

      <div>
        <div class="text-sm text-center text-content-dimmed">
          {{ __('Credit usage') }}
        </div>

        <template x-if="!stats">
          <div class="flex items-center justify-center gap-2 mt-1">
            <span class="w-6 h-4 loading"></span>
            <span class="w-16 badge loading">
            </span>
          </div>
        </template>

        <template x-if="stats">
          <div class="flex items-center justify-center gap-2 mt-1">
            <span class="font-bold" x-text="stats.usage.metric"></span>
            <template x-if="stats.usage.change > 0">
              <span class="badge badge-success">
                <i class="ti ti-arrow-up"></i>
                <span x-text="stats.usage.change"></span>%
              </span>
            </template>

            <template x-if="stats.usage.change < 0">
              <span class="badge badge-failure">
                <i class="ti ti-arrow-down"></i>
                <span x-text="stats.usage.change"></span>%
              </span>
            </template>

            <template x-if="stats.usage.change == 0">
              <span class="badge">
                <span x-text="stats.usage.change"></span>%
              </span>
            </template>
          </div>
        </template>
      </div>
    </div>

    <div class="flex flex-col items-center gap-4 box">
      <span class="avatar bg-content text-main">
        <i class="ti ti-users"></i>
      </span>

      <div>
        <div class="text-sm text-center text-content-dimmed">
          {{ __('New users') }}
        </div>

        <template x-if="!stats">
          <div class="flex items-center justify-center gap-2 mt-1">
            <span class="w-6 h-4 loading"></span>
            <span class="w-16 badge loading">
            </span>
          </div>
        </template>

        <template x-if="stats">
          <div class="flex items-center justify-center gap-2 mt-1">
            <span class="font-bold" x-text="stats.signup.metric"></span>
            <template x-if="stats.signup.change > 0">
              <span class="badge badge-success">
                <i class="ti ti-arrow-up"></i>
                <span x-text="stats.signup.change"></span>%
              </span>
            </template>

            <template x-if="stats.signup.change < 0">
              <span class="badge badge-failure">
                <i class="ti ti-arrow-down"></i>
                <span x-text="stats.signup.change"></span>%
              </span>
            </template>

            <template x-if="stats.signup.change == 0">
              <span class="badge">
                <span x-text="stats.signup.change"></span>%
              </span>
            </template>
          </div>
        </template>
      </div>
    </div>

    <div class="flex flex-col items-center gap-4 box">
      <span class="avatar bg-content text-main">
        <i class="ti ti-coins"></i>
      </span>

      <div>
        <div class="text-sm text-center text-content-dimmed">
          {{ __('New orders') }}
        </div>

        <template x-if="!stats">
          <div class="flex items-center justify-center gap-2 mt-1">
            <span class="w-6 h-4 loading"></span>
            <span class="w-16 badge loading">
            </span>
          </div>
        </template>

        <template x-if="stats">
          <div class="flex items-center justify-center gap-2 mt-1">
            <span class="font-bold" x-text="stats.order.metric"></span>
            <template x-if="stats.order.change > 0">
              <span class="badge badge-success">
                <i class="ti ti-arrow-up"></i>
                <span x-text="stats.order.change"></span>%
              </span>
            </template>

            <template x-if="stats.order.change < 0">
              <span class="badge badge-failure">
                <i class="ti ti-arrow-down"></i>
                <span x-text="stats.order.change"></span>%
              </span>
            </template>

            <template x-if="stats.order.change == 0">
              <span class="badge">
                <span x-text="stats.order.change"></span>%
              </span>
            </template>
          </div>
        </template>
      </div>
    </div>

    <div class="flex flex-col items-center gap-4 box">
      <span class="avatar bg-content text-main">
        <i class="ti ti-refresh"></i>
      </span>

      <div>
        <div class="text-sm text-center text-content-dimmed">
          {{ __('New subscriptions') }}
        </div>

        <template x-if="!stats">
          <div class="flex items-center justify-center gap-2 mt-1">
            <span class="w-6 h-4 loading"></span>
            <span class="w-16 badge loading">
            </span>
          </div>
        </template>

        <template x-if="stats">
          <div class="flex items-center justify-center gap-2 mt-1">
            <span class="font-bold" x-text="stats.subscription.metric"></span>
            <template x-if="stats.subscription.change > 0">
              <span class="badge badge-success">
                <i class="ti ti-arrow-up"></i>
                <span x-text="stats.subscription.change"></span>%
              </span>
            </template>

            <template x-if="stats.subscription.change < 0">
              <span class="badge badge-failure">
                <i class="ti ti-arrow-down"></i>
                <span x-text="stats.subscription.change"></span>%
              </span>
            </template>

            <template x-if="stats.subscription.change == 0">
              <span class="badge">
                <span x-text="stats.subscription.change"></span>%
              </span>
            </template>
          </div>
        </template>
      </div>
    </div>
  </div>

  <hr class="my-6">

  <div class="flex items-center justify-between gap-2">
    <h2>{{ p__('heading', 'Credit usage') }}</h2>

    <span class="badge">
      {{ p__('button', 'Current month') }}
    </span>
  </div>

  <div class="h-64">
    <template x-if="datasets.usage">
      <x-chart :set="JSON.stringify(datasets.usage)" class="block">
        <div chart class="h-64"></div>
      </x-chart>
    </template>
  </div>
</section>